<?xml version="1.0" encoding="utf-8"?>
<mx:HBox xmlns:mx="http://www.adobe.com/2006/mxml" width="100%" height="100%" xmlns:components="components.*" 
	backgroundAlpha="0" creationComplete="handleCreationComplete()">
  <components:CustomDateField id="date" selectedDate="{expiryDate}"/>
  <mx:Button label="Save" click="handleSave()" styleName="lastButtonStyle"/>
  <mx:Script>
  	<![CDATA[
  		import mx.rpc.http.HTTPService;
  	
  		[Bindable]
  		private var expiryDate : Date;
  		[Bindable]
  		private var expiryDateStr : String;
  		private function handleCreationComplete() : void
  		{
  			expiryDateStr = data.expirydate;
  			expiryDate = new Date(expiryDateStr);
  		}
  		
  		private function handleSave() : void
  		{
  			if(date.isDateValid)
  			{
	  			var httpservice : HTTPService = new HTTPService();
	  			httpservice.url="/share/updateshare";
	  			var obj : Object = new Object();
	  			obj.expirydate = date.selectedDate.toString();
	  			obj.id = data.id;
	  			httpservice.send(obj);
  			}
  		}
  	]]>
  </mx:Script>
</mx:HBox>
