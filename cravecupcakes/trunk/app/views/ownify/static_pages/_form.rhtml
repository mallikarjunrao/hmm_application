


<script type="text/javascript">
  function init(){
    // create default slug
    $('dyno_page_title').onchange=function (){
            if ($('dyno_page_slug').value==''){
                name=$('dyno_page_title').value.toLowerCase();
                var exps = [/ /, /\W/, /__/ ];
                var subs = ["_", "", "_"];
                for(i=0; i < exps.length; i++){
                    while( name.search(exps[i]) != -1){
                        name = name.replace(exps[i], subs[i]);
                    }
                }
                $('dyno_page_slug').value = name
            }
    }
  }
  window.onload=init
</script>

<%= error_messages_for 'dyno_page' %>

<!--[form:dyno_page]-->
<p><label for="dyno_page_title">Title</label>
<%= text_field 'dyno_page', 'title'  %></p>

<p><label for="dyno_page_is_active">Active: <%= check_box 'dyno_page', 'is_active'  %></label>
</p>

<p><label for="dyno_page_slug">Slug</label>
<%= ( !(@dyno_page.slug == nil || @dyno_page.slug == "") ? @dyno_page.slug : (text_field 'dyno_page', 'slug') ) %></p>

<p><label for="dyno_page_page_HTML">Page html*</label>
<%= text_area 'dyno_page', 'page_HTML', {:rows => 30, :style => "width:600px"} %></p>

<%= render(:partial => '/ownify/markdown' ) %>
<!--[eoform:dyno_page]-->

